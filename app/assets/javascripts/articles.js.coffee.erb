# Place all the behaviors and hooks related to the matching controller here.
# All this logic will automatically be available in application.js.
# You can use CoffeeScript in this file: http://coffeescript.org/

ready = ->
  # Markdown preview
  url = '<%= Rails.application.routes.url_helpers.articles_preview_path %>'
  textarea = $('#comment-editor textarea')
  preview = $('#comment-preview .markdown')
  $('[role="tablist"] [href="#comment-preview"]').on 'click', ()->
    preview.load url,
      body: textarea.val()

# for turbolinks
$(document).ready(ready)
$(document).on('page:load', ready)
